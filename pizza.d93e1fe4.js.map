{"version":3,"sources":["select/select.js","index.js"],"names":["getTemplate","data","placeholder","items","map","item","id","value","text","join","Select","selector","options","$el","document","querySelector","selectedId","event","type","target","dataset","toggle","select","close","classList","contains","find","$value","textContent","current","querySelectorAll","forEach","el","remove","add","onSelect","isOpen","open","$arrow","removeEventListener","clickHandler","innerHTML","bind","addEventListener","selectedValue","selectedSize","selectedSous","price","finishPrice","pizza","disabledSize","removeAttribute","selectSize","size","disabledSous","selectSous","sous","btn","getElementById","onclick","selectedPlaceholder","setAttribute"],"mappings":"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","file":"pizza.d93e1fe4.js","sourceRoot":"..","sourcesContent":["import { selectedValue } from \"../index\"\r\nimport { selectedSize } from \"../index\"\r\nimport { selectedSous } from \"../index\"\r\n\r\nconst getTemplate = (data = [], placeholder) => {\r\n\r\n    const items = data.map(item => {\r\n        return `\r\n      <li class=\"select__item\" data-type=\"item\" data-id=${item.id}>${item.value} </li>\r\n    `\r\n    })\r\n\r\n    const text = placeholder ?? 'Сделайте выбор'\r\n    return ` \r\n  <div class=\"select__input\" data-type=\"input\">\r\n    <span data-type=\"value\" id=\"placeholder\">${text}</span>\r\n    <i class=\"fa fa-chevron-down\" data-type=\"arrow\"></i>\r\n  </div>\r\n  <div class=\"select__dropdown\">\r\n    <ul class=\"select__list\">\r\n      ${items.join('')}\r\n    </ul>\r\n  </div>\r\n  `\r\n}\r\n\r\nexport class Select {\r\n    constructor(selector, options) {\r\n        this.$el = document.querySelector(selector)\r\n        this.options = options\r\n        this.selectedId = null\r\n\r\n        this.#render()\r\n        this.#setup()\r\n    }\r\n\r\n    #render() {\r\n        const { placeholder, data } = this.options\r\n        this.$el.classList.add('select')\r\n        this.$el.innerHTML = getTemplate(data, placeholder)\r\n    }\r\n\r\n    #setup() {\r\n        this.clickHandler = this.clickHandler.bind(this)\r\n        this.$el.addEventListener('click', this.clickHandler)\r\n        this.$arrow = this.$el.querySelector('[data-type=\"arrow\"]')\r\n        this.$value = this.$el.querySelector('[data-type=\"value\"]')\r\n    }\r\n\r\n    clickHandler(event) {\r\n        const { type } = event.target.dataset\r\n        if (type === 'input' || type === 'value' || type === 'arrow') {\r\n            this.toggle()\r\n\r\n        } else if (type === 'item') {\r\n            const id = event.target.dataset.id\r\n            this.select(id)\r\n\r\n        } else if (type === 'backdrop') {\r\n            this.close()\r\n        }\r\n    }\r\n\r\n    get isOpen() {\r\n        return this.$el.classList.contains('open')\r\n    }\r\n\r\n    get current() {\r\n        return this.options.data.find(item => item.id === this.selectedId)\r\n    }\r\n\r\n    select(id) {\r\n        this.selectedId = id\r\n        this.$value.textContent = this.current.value\r\n        this.$el.querySelectorAll('[data-type=\"item\"]').forEach(el => {\r\n            el.classList.remove('selected')\r\n        })\r\n        this.$el.querySelector(`[data-id=\"${id}\"]`).classList.add('selected')\r\n        this.options.onSelect ? this.options.onSelect(this.current) : null\r\n        this.close()\r\n    }\r\n\r\n    toggle() {\r\n        this.isOpen ? this.close() : this.open()\r\n    }\r\n\r\n    open() {\r\n        this.$el.classList.add('open')\r\n        this.$arrow.classList.remove('fa-chevron-down')\r\n        this.$arrow.classList.add('fa-chevron-up')\r\n    }\r\n\r\n    close() {\r\n        this.$el.classList.remove('open')\r\n        this.$arrow.classList.remove('fa-chevron-up')\r\n        this.$arrow.classList.add('fa-chevron-down')\r\n    }\r\n\r\n    destroy() {\r\n        this.$el.removeEventListener('click', this.clickHandler)\r\n    }\r\n}","import { Select } from './select/select'\r\nimport './select/style.scss'\r\n\r\nexport const selectedValue = {}\r\nexport const selectedSize = {}\r\nexport const selectedSous = {}\r\n\r\nconst price = 10;\r\nlet finishPrice = 0;\r\n\r\nconst select = new Select('#select', {\r\n  placeholder: 'Выбери пожалуйста вид пиццы',\r\n  data: [\r\n    { id: '1', value: 'Пепперони', price: price },\r\n    { id: '2', value: 'Прошуто', price: price },\r\n    { id: '3', value: 'Куриная', price: price },\r\n    { id: '4', value: 'Деревенская', price: price }\r\n  ],\r\n  onSelect(item) {\r\n    selectedValue.pizza = {\r\n      value: item.value,\r\n      price: item.price\r\n    }\r\n    disabledSize.removeAttribute(\"disabled\", \"disabled\")\r\n    finishPrice += item.price\r\n  }\r\n})\r\n\r\nconst selectSize = new Select('#selectSize', {\r\n  placeholder: 'Выбери пожалуйста размер пиццы',\r\n  data: [\r\n    { id: '1', value: '16 cm ', price: 0 },\r\n    { id: '2', value: '24 cm ', price: 3 },\r\n    { id: '3', value: '30 cm ', price: 6 },\r\n    { id: '4', value: '35 cm ', price: 10 }\r\n  ],\r\n  onSelect(item) {\r\n    selectedSize.size = {\r\n      value: item.value,\r\n      price: item.price,\r\n    }\r\n    disabledSous.removeAttribute(\"disabled\", \"disabled\")\r\n    finishPrice += item.price\r\n  }\r\n})\r\n\r\nconst selectSous = new Select('#selectSous', {\r\n  placeholder: 'Выбери пожалуйста вид соуса',\r\n  data: [\r\n    { id: '1', value: 'Сырный', price: 1 },\r\n    { id: '2', value: 'Кисло-сладкий', price: 1 },\r\n    { id: '3', value: 'Барбекю', price: 1 },\r\n    { id: '4', value: 'Чесночный', price: 1 }\r\n  ],\r\n  onSelect(item) {\r\n    selectedSous.sous = {\r\n      value: item.value,\r\n      price: item.price\r\n    }\r\n    finishPrice += item.price\r\n  }\r\n})\r\n\r\nconst btn = document.getElementById('btn')\r\n\r\nbtn.onclick = () => {\r\n  const pizza = document.getElementById('pizza')\r\n  pizza.innerHTML = `Ваша пицца - \" ${selectedValue.pizza.value} \" (стоимость пиццы - ${selectedValue.pizza.price} BYN)`\r\n\r\n  const size = document.getElementById('size')\r\n  size.innerHTML = `Ваш размер - \" ${selectedSize.size.value} \" (доплата за размер + ${selectedSize.size.price} BYN)`\r\n\r\n  const sous = document.getElementById('sous')\r\n  sous.innerHTML = `Ваш соус - \" ${selectedSous.sous.value} \" (доплата за соус + ${selectedSous.sous.price} BYN)`\r\n\r\n  const sum = document.getElementById('sum')\r\n  sum.innerHTML = `Сумма Вашего заказа - \" ${finishPrice} BYN \"`\r\n  finishPrice = 0\r\n}\r\n\r\nconst disabledSous = document.getElementById('selectSous')\r\nconst disabledSize = document.getElementById('selectSize')\r\n\r\nconst selectedPlaceholder = document.getElementById('placeholder')\r\nif (selectedPlaceholder.innerHTML === 'Выбери пожалуйста вид пиццы') {\r\n  disabledSize.setAttribute(\"disabled\", \"disabled\")\r\n  disabledSous.setAttribute(\"disabled\", \"disabled\")\r\n}"]}